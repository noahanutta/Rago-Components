{% comment %}
  Rago Mosaic
{% endcomment %}
{%- if section.blocks -%}
  <style>.rg-mosaic,.rg-mosaic *{box-sizing:border-box}.rg-mosaic{background:white;padding:1rem}.rg-mosaic-container{margin:0 auto;max-width:1200px;display:grid;grid-template-columns:repeat(9,1fr);gap:1rem}.rg-ms-tile{display:block;grid-column-end:span 3;position:relative}.rg-ms-tile-lg{grid-column-end:span 6;grid-row-end:span 2}.rg-ms-tile-xlg{grid-column-end:span 9;height:auto}.rg-ms-tile .rg-ms-underlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.rg-ms-tile .rg-ms-underlay img{width:100%;height:100%;object-fit:cover;border-radius:5px;overflow:hidden}.mos90 img{filter:brightness(.9);}.mos80 img{filter:brightness(.8);}.mos70 img{filter:brightness(.7);}.mos60 img{filter:brightness(.6);}.mos50 img{filter:brightness(.5);}.mos40 img{filter:brightness(.4);}.mos30 img{filter:brightness(.3);}.mos20 img{filter:brightness(.2);}.mos10 img{filter:brightness(.1);}.mos0 img{filter:brightness(0);}.rg-ms-tile .rg-ms-overlay{position:relative;z-index:5;height:100%;min-height:30svh;display:flex;flex-direction:column;padding:1rem;justify-content:flex-end;align-items:flex-start;gap:.5rem}.rg-ms-tile-xlg .rg-ms-overlay{height:100%;min-height:50svh}.rg-ms-tile-no-text .rg-ms-underlay{position:relative;top:unset;left:unset;width:100%;height:auto}.rg-ms-tile-no-text .rg-ms-underlay img{filter:unset;display:block}.rg-ms-tile-no-text .rg-ms-overlay{position:absolute;top:0;left:0;width:100%;height:auto;opacity:.01}.rg-ms-overlay .rg-ms-title{color:white;font-size:1.7rem;line-height:1;text-transform:uppercase;font-weight:700;max-width:300px;text-shadow:0 1px 2px rgb(0 0 0 / 74%),2px 0 3px rgb(0 0 0 / 25%)}.rg-ms-tile-lg .rg-ms-title{font-size:3.5rem;max-width:500px}.rg-ms-tile-xlg .rg-ms-title{font-size:4rem;max-width:750px}.rg-ms-tile-links{display:flex;flex-direction:row;gap:15px}.rg-ms-tile-links .rg-solid-button{font-weight:700}.rg-ms-tile-links .rg-solid-button.rg-ms-secondary{background-color:var(--rg-gold)}.rg-ms-tile-links .rg-solid-button.rg-ms-secondary:hover{background-color:var(--rg-orange)}@media screen and (max-width:1080px){.rg-mosaic-container{grid-template-columns:repeat(5,1fr)}.rg-ms-tile{grid-column-end:span 2}.rg-ms-tile-lg{grid-column-end:span 3}.rg-ms-tile-xlg{grid-column-end:span 5}.rg-ms-overlay .rg-ms-title{font-size:clamp(1.3rem,2vw,1.7rem)}.rg-ms-tile-lg .rg-ms-title{font-size:clamp(1.3rem,4vw,3.5rem)}.rg-ms-tile-xlg .rg-ms-title{font-size:clamp(1.3rem,4vw,4rem)}}@media screen and (max-width:840px){.rg-mosaic-container{grid-template-columns:repeat(7,1fr)}.rg-ms-tile{grid-column-end:span 3}.rg-ms-tile-lg{grid-column-end:span 4}.rg-ms-tile-xlg{grid-column-end:span 7}}@media screen and (max-width:679px){.rg-mosaic-container{grid-template-columns:1fr}.rg-ms-tile{grid-column-end:unset;width:100%;max-width:500px;margin:0 auto;min-height:200px;}.rg-ms-tile-no-text.rg-ms-tile{min-height:unset}.rg-ms-tile-links{flex-direction:column;gap:10px}.rg-ms-tile-links .rg-solid-button p{line-height:1}.rg-ms-tile-lg{grid-column-end:unset;grid-row-end:unset}.rg-ms-tile-xlg{grid-column-end:unset}.rg-ms-overlay .rg-ms-title,.rg-ms-tile-lg .rg-ms-title,.rg-ms-tile-xlg .rg-ms-title{max-width:300px}}</style>
  <div class="rg-mosaic-container">
    {%- for block in section.blocks -%}
      {%- if block.type == 'tile' -%}
        {%- if block.settings['hide-text'] -%}
          <a href="#" class="rg-ms-tile rg-ms-tile-no-text{% if block.settings.tileSize == "large" %} rg-ms-tile-lg{% elsif block.settings.tileSize == "xl" %} rg-ms-tile-xlg{% endif %}" {{ block.shopify_attributes }}>
            <div class="rg-ms-underlay{% unless block.settings.overlay == 100 %} mos{{ block.settings.overlay }}{% endunless %}">
              {{ block.settings.img | image_url: width: 1080 | image_tag: widths: '2160,1920,1440,1280,1080,860,690,540,380' }}
            </div>
            <div class="rg-ms-overlay">
              <p class="rg-ms-title sr-only">{{ block.settings.heading }}</p>
            </div>
          </a>
        {%- else -%}
          <div class="rg-ms-tile{% if block.settings.tileSize == "large" %} rg-ms-tile-lg{% elsif block.settings.tileSize == "xl" %} rg-ms-tile-xlg{% endif %}" {{ block.shopify_attributes }}>
            <div class="rg-ms-underlay{% unless block.settings.overlay == 100 %} mos{{ block.settings.overlay }}{% endunless %}">
              {{ block.settings.img | image_url: width: 1080 | image_tag: widths: '2160,1920,1440,1280,1080,860,690,540,380' }}
            </div>
            <div class="rg-ms-overlay">
              <p class="rg-ms-title">{{ block.settings.heading }}</p>
              <div class="rg-ms-tile-links">
                <a href="{{ block.settings.link.url }}" class="rg-solid-button{% if block.settings.buttonType == "secondary" %} rg-ms-secondary{% endif %}">
                  <p>{{ block.settings.buttonText }}</p>
                </a>
              </div>
            </div>
          </div>
        {%- endif -%}
      {%- elsif block.type == 'twoLinkTile' -%}
        <div class="rg-ms-tile{% if block.settings.tileSize == "large" %} rg-ms-tile-lg{% elsif block.settings.tileSize == "xl" %} rg-ms-tile-xlg{% endif %}" {{ block.shopify_attributes }}>
          <div class="rg-ms-underlay{% unless block.settings.overlay == 100 %} mos{{ block.settings.overlay }}{% endunless %}">
            {{ block.settings.img | image_url: width: 1080 | image_tag: widths: '2160,1920,1440,1280,1080,860,690,540,380' }}
          </div>
          <div class="rg-ms-overlay">
            <p class="rg-ms-title">{{ block.settings.heading }}</p>
            <div class="rg-ms-tile-links">
              <a href="{{ block.settings.link.url }}" class="rg-solid-button{% if block.settings.buttonType == "secondary" %} rg-ms-secondary{% endif %}">
                <p>{{ block.settings.buttonText }}</p>
              </a>
              <a href="{{ block.settings.linkTwo.url }}" class="rg-solid-button{% if block.settings.buttonTwoType == "secondary" %} rg-ms-secondary{% endif %}">
                <p>{{ block.settings.buttonTwoText }}</p>
              </a>
            </div>
          </div>
        </div>
      {%- endif -%}
    {%- endfor -%}
  </div>
{%- endif -%}
{% schema %}
{
  "name": "Rago Mosaic",
  "tag": "section",
  "class": "rg-mosaic",
  "settings": [],
  "blocks": [
    {
      "type": "tile",
      "name": "Tile",
      "settings": [
        {
          "type": "image_picker",
          "id": "img",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "text",
          "id": "buttonText",
          "label": "Button Text"
        },
        {
          "type": "checkbox",
          "id": "hide-text",
          "label": "Hide Text",
          "default": false
        },
        {
          "type": "select",
          "id":"buttonType",
          "label":"Button Type",
          "options":[
            {
              "value":"primary",
              "label":"Primary"
            },
            {
              "value":"secondary",
              "label":"Secondary"
            }
          ]
        },
        {
          "type": "range",
          "id": "overlay",
          "label": "Opacity",
          "min": 0,
          "max": 100,
          "default": 90,
          "step": 10,
          "unit": "%"
        },
        {
          "type": "radio",
          "id": "tileSize",
          "label": "Tile Size",
          "options": [
            {
              "value": "default",
              "label": "Default"
            },
            {
              "value": "large",
              "label": "Large"
            },
            {
              "value": "xl",
              "label": "Full Width"
            }
          ]
        }
      ]
    },
    {
      "type": "twoLinkTile",
      "name": "Two Link Tile",
      "settings": [
        {
          "type": "image_picker",
          "id": "img",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "url",
          "id": "linkOne",
          "label": "Link One"
        },
        {
          "type": "text",
          "id": "buttonText",
          "label": "Button Text"
        },
        {
          "type": "select",
          "id":"buttonType",
          "label":"Button Type",
          "options":[
            {
              "value":"primary",
              "label":"Primary"
            },
            {
              "value":"secondary",
              "label":"Secondary"
            }
          ]
        },
        {
          "type": "url",
          "id": "linkTwo",
          "label": "Link Two"
        },
        {
          "type": "text",
          "id": "buttonTwoText",
          "label": "Button Two Text"
        },
        {
          "type": "select",
          "id":"buttonTwoType",
          "label":"Button Type",
          "options":[
            {
              "value":"primary",
              "label":"Primary"
            },
            {
              "value":"secondary",
              "label":"Secondary"
            }
          ]
        },
        {
          "type": "range",
          "id": "overlay",
          "label": "Opacity",
          "min": 0,
          "max": 100,
          "default": 90,
          "step": 10,
          "unit": "%"
        },
        {
          "type": "radio",
          "id": "tileSize",
          "label": "Tile Size",
          "options": [
            {
              "value": "default",
              "label": "Default"
            },
            {
              "value": "large",
              "label": "Large"
            },
            {
              "value": "xl",
              "label": "Full Width"
            }
          ]
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Rago Mosaic",
      "settings": {}
    }
  ]
}
{% endschema %}